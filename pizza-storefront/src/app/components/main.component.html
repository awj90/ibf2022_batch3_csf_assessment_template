<!--
  WARNING: Do not the structure of the HTML. You are only allowed to to add Angular directives
-->

<div class="box-it">
  <form method="POST" [formGroup]="form" (submit)="process()">
    <table>
      <tr>
        <td><label for="name">Name:</label></td>
        <td>
          <input
            type="text"
            size="50"
            id="name"
            placeholder="Your name as your NRIC"
            formControlName="name"
          /><span
            *ngIf="form.get('name')?.invalid && form.get('name')?.touched"
            class="error"
            >Please input your name</span
          >
        </td>
      </tr>

      <tr>
        <td><label for="email">Email:</label></td>
        <td>
          <input
            type="email"
            size="50"
            id="email"
            placeholder="Your email"
            formControlName="email"
          />
          <span
            *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
            class="error"
            >Please input a valid email</span
          >
        </td>
      </tr>
      <tr>
        <td><label for="size">Size:</label></td>
        <td>
          <input
            type="range"
            id="size"
            min="0"
            max="3"
            value="0"
            (change)="updateSize(size.value)"
            formControlName="size"
            #size
          />
          <span class="ml-1vw">{{ pizzaSize }}</span>
          <span
            *ngIf="form.get('size')?.invalid && form.get('size')?.touched"
            class="error"
            >Please select a pizza size</span
          >
        </td>
      </tr>
      <tr>
        <td><label>Base:</label></td>
        <td>
          <input type="radio" name="base" value="thin" formControlName="base" />
          Thin Crust
          <input
            type="radio"
            name="base"
            value="thick"
            formControlName="base"
          />
          Thick Crust
        </td>
        <span
          *ngIf="form.get('base')?.invalid && form.get('base')?.touched"
          class="error"
          >Please select a pizza base</span
        >
      </tr>
      <tr>
        <td><label for="sauce">Sauce:</label></td>
        <td>
          <select id="sauce" formControlName="sauce">
            <option value="classic">Classic Tomato Sauce</option>
            <option value="signature">Signature Sauce</option>
            <option value="salsa">Salsa Sauce</option>
            <option value="smoky">Smoky BBQ Sauce</option>
            <option value="napolitana">Napolitana Sauce</option>
          </select>
          <span
            *ngIf="form.get('sauce')?.invalid && form.get('sauce')?.touched"
            class="error"
            >Please input a pizza sauce</span
          >
        </td>
      </tr>
      <tr>
        <td><label>Toppings:</label></td>
        <td>
          <div class="space-around">
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="chicken"
            />
            Chicken
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="seafood"
            />
            Seafood
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="beef"
            />
            Beef
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="vegetables"
            />
            Vegetables
          </div>
          <div class="space-around">
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="cheese"
            />
            Extra Cheese
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="arugula"
            />
            Arugula (Rocket)
            <input
              (change)="onCheckOrUncheck($event)"
              type="checkbox"
              name="toppings"
              value="pineapple"
            />
            Pineapple
          </div>
          <div>
            <small>Select toppings, one or more from the above</small>
          </div>
          <span *ngIf="hasNoToppings() && form.touched" class="error"
            >Please select at least one pizza topping</span
          >
        </td>
      </tr>
      <tr>
        <td><label for="comments">Comments:</label></td>
        <td>
          <textarea
            id="comments"
            cols="40"
            rows="5"
            formControlName="comments"
          ></textarea>
        </td>
      </tr>
      <tr>
        <td></td>
        <td>
          <div class="justify-right">
            <button
              type="submit"
              [disabled]="form.invalid || hasNoToppings()"
              class="btn btn-primary"
            >
              Place Order
            </button>
          </div>
        </td>
      </tr>
    </table>
  </form>
</div>
